# Plan: 3.3a.05 â€” Remove Permissive Fallback Outputs

**Status:** ðŸ”² Not Started  
**Priority:** High  
**Created:** 2026-02-13  
**Last Updated:** 2026-02-13  
**Parent:** [roadmap.md](../../roadmap.md) (Session 3.3a)

---

## Goal

Remove "catch + warn + return permissive output" behavior from product code.

This repo is strict everywhere: unsupported/invalid inputs must fail fast with helpful errors, never degrade to a best-effort result.

---

## Responsibility Boundary

**Begins after:** [3.3a.04 â€” Centralize Data-String Parsing](3.3a-04-centralize-data-string-parsing.md)
**This plan owns:** OUTPUT degradation â€” places where code catches an error and returns a permissive/lossy result instead of failing (e.g., returning `z.unknown()` instead of throwing).
**This plan does NOT own:** INPUT errors that are silently skipped (that's plan 06). The distinction: 05 = "we produced wrong output silently", 06 = "we ignored bad input silently".
**Successor:** [3.3a.06 â€” Remove Swallowed Errors](3.3a-06-remove-swallowed-errors.md)

---

## Repo Truth

- `lib/src/schema-processing/conversion/json-schema/convert-schema.ts` currently catches, logs, and returns permissive output.

---

## Work

1. Replace permissive fallbacks with explicit error throws (include context).
2. Add tests that prove:
   - the error is thrown,
   - the message includes enough context to act.
3. Ensure the strict pipeline cannot return a "best-effort" schema.

---

## Acceptance Criteria

- No permissive fallback outputs remain in the library.
- Tests assert failure modes and error messages (not just "throws").

---

## References

- `lib/src/schema-processing/conversion/json-schema/convert-schema.ts`
- `.agent/directives/VISION.md`
- `.agent/directives/RULES.md`
