# Plan: 3.3a.06 ‚Äî Remove Swallowed Errors (Fail Fast With Context)

**Status:** üî≤ Not Started  
**Priority:** High  
**Created:** 2026-02-13  
**Last Updated:** 2026-02-13  
**Parent:** [roadmap.md](../../roadmap.md) (Session 3.3a)

---

## Goal

Eliminate ‚Äúignore and continue‚Äù behavior (`catch {}` / silent skips) from product code paths that build IR or render outputs.

Strict doctrine requires that invalid inputs fail fast and hard with helpful errors.

---

## Repo Truth (Known Hotspots)

- Invalid `$ref` values are currently ignored in:
  - `lib/src/schema-processing/context/template-context.endpoints.dependencies.ts`
- Some Zod declarations are silently skipped on parse failure:
  - `lib/src/schema-processing/parsers/zod/zod-parser.ts` (skips when `schema` is falsy)

---

## Work

1. Replace swallowed errors with structured failures that include:
   - what failed,
   - where it failed (schema name, ref string, source location if available),
   - what to do next (actionable guidance).
2. Add tests proving that invalid inputs fail and produce helpful messages.

---

## Acceptance Criteria

- No swallowed errors remain in strict pipeline code paths.
- No ‚Äúsilent skip‚Äù behavior remains for parseable declarations.

---

## References

- `lib/src/schema-processing/context/template-context.endpoints.dependencies.ts`
- `lib/src/schema-processing/parsers/zod/zod-parser.ts`
- `.agent/directives/RULES.md`
