# Plan: 3.3b.03 â€” Reject `z.undefined()` (Strictness Blocker)

**Status:** ðŸ”² Not Started  
**Priority:** High  
**Created:** 2026-02-13  
**Last Updated:** 2026-02-13  
**Parent:** [roadmap.md](../../roadmap.md) (Session 3.3b)

---

## Goal

Eliminate semantic loss around `z.undefined()` by making it a hard error:

- `z.undefined()` is not representable in OpenAPI/JSON Schema semantics.
- Therefore it must be rejected with a helpful error (location + guidance).

---

## Repo Truth

- Zod parser currently treats `z.undefined()` as a schema:
  - `lib/src/schema-processing/parsers/zod/zod-parser.primitives.ts`
- Round-trip plan documents that `z.undefined()` currently degrades to `z.unknown()` (loss).

---

## Work

1. Update primitive parsing to treat `z.undefined()` as unsupported and emit an error.
2. Add tests that prove:
   - parsing fails fast with helpful error,
   - round-trip suite does not accept degradation to `unknown`.

---

## Acceptance Criteria

- `z.undefined()` is rejected (hard failure).
- Error includes actionable guidance (what to do instead).

---

## References

- `lib/src/schema-processing/parsers/zod/zod-parser.primitives.ts`
- `.agent/acceptance-criteria/zod-parser-acceptance-criteria.md`
